<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Checklist Pague Menos</title>
    <style>
        :root { --primary: #004a99; --success: #28a745; --danger: #dc3545; --bg: #f4f7f9; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; }
        .container { width: 100%; max-width: 550px; }
        header { background: var(--primary); color: white; padding: 20px 15px; border-radius: 12px; text-align: center; margin-bottom: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .card { background: white; padding: 15px; border-radius: 12px; margin-bottom: 15px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); border: 1px solid #e0e6ed; }
        label { font-weight: bold; font-size: 13px; color: #666; display: block; margin-top: 10px; text-transform: uppercase; }
        input { width: 100%; padding: 14px; margin: 6px 0; border: 1px solid #ccd6e0; border-radius: 8px; font-size: 16px; outline: none; }
        .section-title { font-weight: bold; color: var(--primary); background: #f0f4f8; padding: 12px; border-radius: 8px; margin-bottom: 10px; text-transform: uppercase; text-align: center; }
        .item { padding: 18px 0; border-bottom: 1px solid #f1f1f1; }
        .btns { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .btn { padding: 16px; border: 1px solid #ccd6e0; border-radius: 10px; background: #fff; font-weight: bold; cursor: pointer; font-size: 14px; transition: all 0.2s ease; }
        .btn.active-yes { background: var(--success) !important; color: white; border-color: var(--success); }
        .btn.active-no { background: var(--danger) !important; color: white; border-color: var(--danger); }
        .btn-fin { width: 100%; padding: 20px; background: var(--primary); color: white; border: none; border-radius: 12px; font-weight: bold; font-size: 18px; margin: 25px 0; cursor: pointer; }
        #results { display: none; background: white; padding: 20px; border-radius: 12px; width: 100%; border: 2px solid var(--primary); margin-bottom: 30px; }
        pre { background: #fdfdfd; padding: 15px; white-space: pre-wrap; font-size: 13px; border: 1px solid #eee; color: #2c3e50; border-radius: 8px; font-family: monospace; }
        footer { margin: 20px 0 40px; text-align: center; color: #95a5a6; font-size: 12px; }
        #toast { position: fixed; top: 20px; background: rgba(0,0,0,0.9); color: white; padding: 15px 25px; border-radius: 30px; display: none; z-index: 10000; font-weight: bold; }
    </style>
</head>
<body>

<div id="toast"></div>

<div class="container">
    <header>
        <h2 style="margin:0;">PAGUE MENOS</h2>
        <p style="margin:5px 0 0; opacity: 0.9; font-size: 14px;">Checklist Cliente Oculto</p>
    </header>
    
    <div class="card">
        <label>Colaborador Avaliado</label>
        <input type="text" id="nome" placeholder="Nome completo">
        <label>Matr√≠cula</label>
        <input type="number" id="matri" placeholder="000000">
    </div>

    <div id="checklist-area"></div>

    <button class="btn-fin" onclick="finalizar()">GERAR RELAT√ìRIO FINAL</button>

    <div id="results">
        <h3 id="score" style="text-align:center; color: var(--primary); margin: 0 0 15px 0;"></h3>
        <pre id="relatorio"></pre>
        <button class="btn-fin" style="background:#4a5568; margin-bottom: 0;" onclick="copiar()">COPIAR PARA WHATSAPP</button>
    </div>

    <footer>
        Desenvolvido por <strong>Erik Henrique - 126841</strong><br>
        Relat√≥rio Interno n√£o oficial.
    </footer>
</div>

<script>
    const perguntas = {
        "SAL√ÉO": ["Cliente foi abordado no sal√£o", "Havia Clientes aguardando na fila enquanto colaborador organizava prateleira", "Colaborador foi atencioso", "Buscou entender a necessidade do cliente", "Foi acompanhado at√© a se√ß√£o"],
        "BALC√ÉO": ["Contato visual na fila", "Sauda√ß√£o Seja bem-vindo √† Pague Menos", "Apresentou-se pelo nome", "Solicitou cadastro", "Atualizou cadastro", "Chamou cliente pelo nome", "Destacou descontos e vantagens", "Entregou cupom DSM e explicou", "Informou programas de fidelidade", "Informou Medalha do cliente", "Ofertou Clinicfarma", "Soube responder sobre medicamentos", "Atencioso, emp√°tico e cordial", "Ofertou Produto Foco (Prot Solar Dauf Kit)", "Ofertou Super Descontos"],
        "CAIXA": ["Solicitou/bipou cupom do balc√£o", "Avalia√ß√£o do Atend√¥metro", "Destacou desconto da compra", "Ofereceu Super Troco", "Ofertou cupom por e-mail", "Pagamento sem trava/lentid√£o", "Finalizou com Conte sempre com a Pague Menos", "Atencioso e cordial", "Acompanhou at√© a sa√≠da do caixa", "Ofertou produto Foco", "Ofertou Super Descontos", "Ofertou aumento UVC (Cliente cr√¥nico)"]
    };

    let respostas = {};
    let horaInicio = "";

    function montar() {
        // Captura a hora de in√≠cio assim que a p√°gina carrega
        const agora = new Date();
        horaInicio = agora.toLocaleTimeString('pt-BR', {hour: '2-digit', minute:'2-digit'});

        const area = document.getElementById('checklist-area');
        let html = '';
        for (let secao in perguntas) {
            html += `<div class="card"><div class="section-title">${secao}</div>`;
            perguntas[secao].forEach((p, i) => {
                const id = secao + "-" + i;
                html += `<div class="item"><div style="font-size:15px; margin-bottom:10px;">${p}</div><div class="btns">
                    <button class="btn" id="y-${id}" onclick="marcar('${id}', 1)">SIM ‚úÖ</button>
                    <button class="btn" id="n-${id}" onclick="marcar('${id}', 0)">N√ÉO ‚ùå</button>
                </div></div>`;
            });
            html += `</div>`;
        }
        area.innerHTML = html;
    }

    function marcar(id, valor) {
        respostas[id] = valor;
        document.getElementById("y-"+id).className = "btn";
        document.getElementById("n-"+id).className = "btn";
        if (valor === 1) document.getElementById("y-"+id).classList.add("active-yes");
        else document.getElementById("n-"+id).classList.add("active-no");
    }

    function finalizar() {
        const total = Object.values(perguntas).flat().length;
        if (Object.keys(respostas).length < total) {
            alert("‚ö†Ô∏è Responda todos os itens!");
            return;
        }

        const agora = new Date();
        const horaFim = agora.toLocaleTimeString('pt-BR', {hour: '2-digit', minute:'2-digit'});
        const dataAtual = agora.toLocaleDateString('pt-BR');

        let acertos = 0;
        let rel = "*AVALIA√á√ÉO CLIENTE OCULTO - PAGUE MENOS*\n";
        rel += "--------------------------------\n";
        rel += "üë§ *Colaborador:* " + (document.getElementById('nome').value || "---") + "\n";
        rel += "üÜî *Matr√≠cula:* " + (document.getElementById('matri').value || "---") + "\n";
        rel += "üìÖ *Data:* " + dataAtual + "\n";
        rel += "‚è∞ *In√≠cio:* " + horaInicio + " | *Fim:* " + horaFim + "\n";
        rel += "--------------------------------\n";

        for (let secao in perguntas) {
            rel += "\nüîπ *" + secao + "*\n";
            perguntas[secao].forEach((p, i) => {
                const r = respostas[secao + "-" + i] === 1;
                if (r) acertos++;
                rel += (r ? "‚úÖ" : "‚ùå") + " " + p + "\n";
            });
        }

        const nota = ((acertos / total) * 100).toFixed(0);
        rel += "\n--------------------------------\n";
        rel += "üìä *DESEMPENHO FINAL: " + nota + "%*\n";
        rel += "--------------------------------\n";
        rel += "_Gerado por Erik Henrique - 126841_";

        document.getElementById('relatorio').innerText = rel;
        document.getElementById('score').innerText = "NOTA: " + nota + "%";
        document.getElementById('results').style.display = 'block';
        document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
    }

    function copiar() {
        const t = document.getElementById('relatorio').innerText;
        navigator.clipboard.writeText(t);
        const toast = document.getElementById('toast');
        toast.innerText = "üìã Copiado com sucesso!";
        toast.style.display = "block";
        setTimeout(() => toast.style.display = "none", 2000);
    }

    window.onload = montar;
</script>
</body>
</html>
